"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard").default;

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.strikethrough = void 0;

var React = _interopRequireWildcard(require("react"));

var _markdownUtils = require("../utils/markdownUtils");

var strikethrough = {
  name: 'strikethrough',
  keyCommand: 'strikethrough',
  shortcuts: 'ctrl+shift+x',
  buttonProps: {
    'aria-label': 'Add strikethrough text',
    title: 'Add strikethrough text'
  },
  icon: /*#__PURE__*/React.createElement("svg", {
    "data-name": "strikethrough",
    width: "12",
    height: "12",
    role: "img",
    viewBox: "0 0 512 512"
  }, /*#__PURE__*/React.createElement("path", {
    fill: "currentColor",
    d: "M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z"
  })),
  execute: function execute(state, api) {
    // Adjust the selection to encompass the whole word if the caret is inside one
    var newSelectionRange = (0, _markdownUtils.selectWord)({
      text: state.text,
      selection: state.selection
    });
    var state1 = api.setSelectionRange(newSelectionRange); // Replaces the current selection with the strikethrough mark up

    var state2 = api.replaceSelection("~~".concat(state1.selectedText, "~~")); // Adjust the selection to not contain the ~~

    api.setSelectionRange({
      start: state2.selection.end - 2 - state1.selectedText.length,
      end: state2.selection.end - 2
    });
  }
};
exports.strikethrough = strikethrough;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21tYW5kcy9zdHJpa2VUaHJvdWdoLnRzeCJdLCJuYW1lcyI6WyJzdHJpa2V0aHJvdWdoIiwibmFtZSIsImtleUNvbW1hbmQiLCJzaG9ydGN1dHMiLCJidXR0b25Qcm9wcyIsInRpdGxlIiwiaWNvbiIsImV4ZWN1dGUiLCJzdGF0ZSIsImFwaSIsIm5ld1NlbGVjdGlvblJhbmdlIiwidGV4dCIsInNlbGVjdGlvbiIsInN0YXRlMSIsInNldFNlbGVjdGlvblJhbmdlIiwic3RhdGUyIiwicmVwbGFjZVNlbGVjdGlvbiIsInNlbGVjdGVkVGV4dCIsInN0YXJ0IiwiZW5kIiwibGVuZ3RoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFFQTs7QUFFTyxJQUFNQSxhQUF1QixHQUFHO0FBQ3JDQyxFQUFBQSxJQUFJLEVBQUUsZUFEK0I7QUFFckNDLEVBQUFBLFVBQVUsRUFBRSxlQUZ5QjtBQUdyQ0MsRUFBQUEsU0FBUyxFQUFFLGNBSDBCO0FBSXJDQyxFQUFBQSxXQUFXLEVBQUU7QUFBRSxrQkFBYyx3QkFBaEI7QUFBMENDLElBQUFBLEtBQUssRUFBRTtBQUFqRCxHQUp3QjtBQUtyQ0MsRUFBQUEsSUFBSSxlQUNGO0FBQUssaUJBQVUsZUFBZjtBQUErQixJQUFBLEtBQUssRUFBQyxJQUFyQztBQUEwQyxJQUFBLE1BQU0sRUFBQyxJQUFqRDtBQUFzRCxJQUFBLElBQUksRUFBQyxLQUEzRDtBQUFpRSxJQUFBLE9BQU8sRUFBQztBQUF6RSxrQkFDRTtBQUNFLElBQUEsSUFBSSxFQUFDLGNBRFA7QUFFRSxJQUFBLENBQUMsRUFBQztBQUZKLElBREYsQ0FObUM7QUFhckNDLEVBQUFBLE9BQU8sRUFBRSxpQkFBQ0MsS0FBRCxFQUFtQkMsR0FBbkIsRUFBb0M7QUFDM0M7QUFDQSxRQUFNQyxpQkFBaUIsR0FBRywrQkFBVztBQUFFQyxNQUFBQSxJQUFJLEVBQUVILEtBQUssQ0FBQ0csSUFBZDtBQUFvQkMsTUFBQUEsU0FBUyxFQUFFSixLQUFLLENBQUNJO0FBQXJDLEtBQVgsQ0FBMUI7QUFDQSxRQUFNQyxNQUFNLEdBQUdKLEdBQUcsQ0FBQ0ssaUJBQUosQ0FBc0JKLGlCQUF0QixDQUFmLENBSDJDLENBSTNDOztBQUNBLFFBQU1LLE1BQU0sR0FBR04sR0FBRyxDQUFDTyxnQkFBSixhQUEwQkgsTUFBTSxDQUFDSSxZQUFqQyxRQUFmLENBTDJDLENBTTNDOztBQUNBUixJQUFBQSxHQUFHLENBQUNLLGlCQUFKLENBQXNCO0FBQ3BCSSxNQUFBQSxLQUFLLEVBQUVILE1BQU0sQ0FBQ0gsU0FBUCxDQUFpQk8sR0FBakIsR0FBdUIsQ0FBdkIsR0FBMkJOLE1BQU0sQ0FBQ0ksWUFBUCxDQUFvQkcsTUFEbEM7QUFFcEJELE1BQUFBLEdBQUcsRUFBRUosTUFBTSxDQUFDSCxTQUFQLENBQWlCTyxHQUFqQixHQUF1QjtBQUZSLEtBQXRCO0FBSUQ7QUF4Qm9DLENBQWhDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBJQ29tbWFuZCwgVGV4dFN0YXRlLCBUZXh0QXBpIH0gZnJvbSAnLi8nO1xyXG5pbXBvcnQgeyBzZWxlY3RXb3JkIH0gZnJvbSAnLi4vdXRpbHMvbWFya2Rvd25VdGlscyc7XHJcblxyXG5leHBvcnQgY29uc3Qgc3RyaWtldGhyb3VnaDogSUNvbW1hbmQgPSB7XHJcbiAgbmFtZTogJ3N0cmlrZXRocm91Z2gnLFxyXG4gIGtleUNvbW1hbmQ6ICdzdHJpa2V0aHJvdWdoJyxcclxuICBzaG9ydGN1dHM6ICdjdHJsK3NoaWZ0K3gnLFxyXG4gIGJ1dHRvblByb3BzOiB7ICdhcmlhLWxhYmVsJzogJ0FkZCBzdHJpa2V0aHJvdWdoIHRleHQnLCB0aXRsZTogJ0FkZCBzdHJpa2V0aHJvdWdoIHRleHQnIH0sXHJcbiAgaWNvbjogKFxyXG4gICAgPHN2ZyBkYXRhLW5hbWU9XCJzdHJpa2V0aHJvdWdoXCIgd2lkdGg9XCIxMlwiIGhlaWdodD1cIjEyXCIgcm9sZT1cImltZ1wiIHZpZXdCb3g9XCIwIDAgNTEyIDUxMlwiPlxyXG4gICAgICA8cGF0aFxyXG4gICAgICAgIGZpbGw9XCJjdXJyZW50Q29sb3JcIlxyXG4gICAgICAgIGQ9XCJNNDk2IDI4OEgxNmMtOC44MzcgMC0xNi03LjE2My0xNi0xNnYtMzJjMC04LjgzNyA3LjE2My0xNiAxNi0xNmg0ODBjOC44MzcgMCAxNiA3LjE2MyAxNiAxNnYzMmMwIDguODM3LTcuMTYzIDE2LTE2IDE2em0tMjE0LjY2NiAxNmMyNy4yNTggMTIuOTM3IDQ2LjUyNCAyOC42ODMgNDYuNTI0IDU2LjI0MyAwIDMzLjEwOC0yOC45NzcgNTMuNjc2LTc1LjYyMSA1My42NzYtMzIuMzI1IDAtNzYuODc0LTEyLjA4LTc2Ljg3NC00NC4yNzFWMzY4YzAtOC44MzctNy4xNjQtMTYtMTYtMTZIMTEzLjc1Yy04LjgzNiAwLTE2IDcuMTYzLTE2IDE2djE5LjIwNGMwIDY2Ljg0NSA3Ny43MTcgMTAxLjgyIDE1NC40ODcgMTAxLjgyIDg4LjU3OCAwIDE2Mi4wMTMtNDUuNDM4IDE2Mi4wMTMtMTM0LjQyNCAwLTE5LjgxNS0zLjYxOC0zNi40MTctMTAuMTQzLTUwLjZIMjgxLjMzNHptLTMwLjk1Mi05NmMtMzIuNDIyLTEzLjUwNS01Ni44MzYtMjguOTQ2LTU2LjgzNi01OS42ODMgMC0zMy45MiAzMC45MDEtNDcuNDA2IDY0Ljk2Mi00Ny40MDYgNDIuNjQ3IDAgNjQuOTYyIDE2LjU5MyA2NC45NjIgMzIuOTg1VjEzNmMwIDguODM3IDcuMTY0IDE2IDE2IDE2aDQ1LjYxM2M4LjgzNiAwIDE2LTcuMTYzIDE2LTE2di0zMC4zMThjMC01Mi40MzgtNzEuNzI1LTc5Ljg3NS0xNDIuNTc1LTc5Ljg3NS04NS4yMDMgMC0xNTAuNzI2IDQwLjk3Mi0xNTAuNzI2IDEyNS42NDYgMCAyMi43MSA0LjY2NSA0MS4xNzYgMTIuNzc3IDU2LjU0N2gxMjkuODIzelwiXHJcbiAgICAgIC8+XHJcbiAgICA8L3N2Zz5cclxuICApLFxyXG4gIGV4ZWN1dGU6IChzdGF0ZTogVGV4dFN0YXRlLCBhcGk6IFRleHRBcGkpID0+IHtcclxuICAgIC8vIEFkanVzdCB0aGUgc2VsZWN0aW9uIHRvIGVuY29tcGFzcyB0aGUgd2hvbGUgd29yZCBpZiB0aGUgY2FyZXQgaXMgaW5zaWRlIG9uZVxyXG4gICAgY29uc3QgbmV3U2VsZWN0aW9uUmFuZ2UgPSBzZWxlY3RXb3JkKHsgdGV4dDogc3RhdGUudGV4dCwgc2VsZWN0aW9uOiBzdGF0ZS5zZWxlY3Rpb24gfSk7XHJcbiAgICBjb25zdCBzdGF0ZTEgPSBhcGkuc2V0U2VsZWN0aW9uUmFuZ2UobmV3U2VsZWN0aW9uUmFuZ2UpO1xyXG4gICAgLy8gUmVwbGFjZXMgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIHdpdGggdGhlIHN0cmlrZXRocm91Z2ggbWFyayB1cFxyXG4gICAgY29uc3Qgc3RhdGUyID0gYXBpLnJlcGxhY2VTZWxlY3Rpb24oYH5+JHtzdGF0ZTEuc2VsZWN0ZWRUZXh0fX5+YCk7XHJcbiAgICAvLyBBZGp1c3QgdGhlIHNlbGVjdGlvbiB0byBub3QgY29udGFpbiB0aGUgfn5cclxuICAgIGFwaS5zZXRTZWxlY3Rpb25SYW5nZSh7XHJcbiAgICAgIHN0YXJ0OiBzdGF0ZTIuc2VsZWN0aW9uLmVuZCAtIDIgLSBzdGF0ZTEuc2VsZWN0ZWRUZXh0Lmxlbmd0aCxcclxuICAgICAgZW5kOiBzdGF0ZTIuc2VsZWN0aW9uLmVuZCAtIDIsXHJcbiAgICB9KTtcclxuICB9LFxyXG59O1xyXG4iXX0=