"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard").default;

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.quote = void 0;

var React = _interopRequireWildcard(require("react"));

var _markdownUtils = require("../utils/markdownUtils");

var quote = {
  name: 'quote',
  keyCommand: 'quote',
  shortcuts: 'ctrlcmd+q',
  buttonProps: {
    'aria-label': 'Insert a quote',
    title: 'Insert a quote'
  },
  icon: /*#__PURE__*/React.createElement("svg", {
    width: "12",
    height: "12",
    viewBox: "0 0 520 520"
  }, /*#__PURE__*/React.createElement("path", {
    fill: "currentColor",
    d: "M520,95.75 L520,225.75 C520,364.908906 457.127578,437.050625 325.040469,472.443125 C309.577578,476.586875 294.396016,464.889922 294.396016,448.881641 L294.396016,414.457031 C294.396016,404.242891 300.721328,395.025078 310.328125,391.554687 C377.356328,367.342187 414.375,349.711094 414.375,274.5 L341.25,274.5 C314.325781,274.5 292.5,252.674219 292.5,225.75 L292.5,95.75 C292.5,68.8257812 314.325781,47 341.25,47 L471.25,47 C498.174219,47 520,68.8257812 520,95.75 Z M178.75,47 L48.75,47 C21.8257813,47 0,68.8257812 0,95.75 L0,225.75 C0,252.674219 21.8257813,274.5 48.75,274.5 L121.875,274.5 C121.875,349.711094 84.8563281,367.342187 17.828125,391.554687 C8.22132813,395.025078 1.89601563,404.242891 1.89601563,414.457031 L1.89601563,448.881641 C1.89601563,464.889922 17.0775781,476.586875 32.5404687,472.443125 C164.627578,437.050625 227.5,364.908906 227.5,225.75 L227.5,95.75 C227.5,68.8257812 205.674219,47 178.75,47 Z"
  })),
  execute: function execute(state, api) {
    // Adjust the selection to encompass the whole word if the caret is inside one
    var newSelectionRange = (0, _markdownUtils.selectWord)({
      text: state.text,
      selection: state.selection
    });
    var state1 = api.setSelectionRange(newSelectionRange);
    var breaksBeforeCount = (0, _markdownUtils.getBreaksNeededForEmptyLineBefore)(state1.text, state1.selection.start);
    var breaksBefore = Array(breaksBeforeCount + 1).join('\n');
    var breaksAfterCount = (0, _markdownUtils.getBreaksNeededForEmptyLineAfter)(state1.text, state1.selection.end);
    var breaksAfter = Array(breaksAfterCount + 1).join('\n'); // Replaces the current selection with the quote mark up

    api.replaceSelection("".concat(breaksBefore, "> ").concat(state1.selectedText).concat(breaksAfter));
    var selectionStart = state1.selection.start + breaksBeforeCount + 2;
    var selectionEnd = selectionStart + state1.selectedText.length;
    api.setSelectionRange({
      start: selectionStart,
      end: selectionEnd
    });
  }
};
exports.quote = quote;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21tYW5kcy9xdW90ZS50c3giXSwibmFtZXMiOlsicXVvdGUiLCJuYW1lIiwia2V5Q29tbWFuZCIsInNob3J0Y3V0cyIsImJ1dHRvblByb3BzIiwidGl0bGUiLCJpY29uIiwiZXhlY3V0ZSIsInN0YXRlIiwiYXBpIiwibmV3U2VsZWN0aW9uUmFuZ2UiLCJ0ZXh0Iiwic2VsZWN0aW9uIiwic3RhdGUxIiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJicmVha3NCZWZvcmVDb3VudCIsInN0YXJ0IiwiYnJlYWtzQmVmb3JlIiwiQXJyYXkiLCJqb2luIiwiYnJlYWtzQWZ0ZXJDb3VudCIsImVuZCIsImJyZWFrc0FmdGVyIiwicmVwbGFjZVNlbGVjdGlvbiIsInNlbGVjdGVkVGV4dCIsInNlbGVjdGlvblN0YXJ0Iiwic2VsZWN0aW9uRW5kIiwibGVuZ3RoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFFQTs7QUFNTyxJQUFNQSxLQUFlLEdBQUc7QUFDN0JDLEVBQUFBLElBQUksRUFBRSxPQUR1QjtBQUU3QkMsRUFBQUEsVUFBVSxFQUFFLE9BRmlCO0FBRzdCQyxFQUFBQSxTQUFTLEVBQUUsV0FIa0I7QUFJN0JDLEVBQUFBLFdBQVcsRUFBRTtBQUFFLGtCQUFjLGdCQUFoQjtBQUFrQ0MsSUFBQUEsS0FBSyxFQUFFO0FBQXpDLEdBSmdCO0FBSzdCQyxFQUFBQSxJQUFJLGVBQ0Y7QUFBSyxJQUFBLEtBQUssRUFBQyxJQUFYO0FBQWdCLElBQUEsTUFBTSxFQUFDLElBQXZCO0FBQTRCLElBQUEsT0FBTyxFQUFDO0FBQXBDLGtCQUNFO0FBQ0UsSUFBQSxJQUFJLEVBQUMsY0FEUDtBQUVFLElBQUEsQ0FBQyxFQUFDO0FBRkosSUFERixDQU4yQjtBQWE3QkMsRUFBQUEsT0FBTyxFQUFFLGlCQUFDQyxLQUFELEVBQW1CQyxHQUFuQixFQUFvQztBQUMzQztBQUNBLFFBQU1DLGlCQUFpQixHQUFHLCtCQUFXO0FBQUVDLE1BQUFBLElBQUksRUFBRUgsS0FBSyxDQUFDRyxJQUFkO0FBQW9CQyxNQUFBQSxTQUFTLEVBQUVKLEtBQUssQ0FBQ0k7QUFBckMsS0FBWCxDQUExQjtBQUNBLFFBQU1DLE1BQU0sR0FBR0osR0FBRyxDQUFDSyxpQkFBSixDQUFzQkosaUJBQXRCLENBQWY7QUFDQSxRQUFNSyxpQkFBaUIsR0FBRyxzREFBa0NGLE1BQU0sQ0FBQ0YsSUFBekMsRUFBK0NFLE1BQU0sQ0FBQ0QsU0FBUCxDQUFpQkksS0FBaEUsQ0FBMUI7QUFDQSxRQUFNQyxZQUFZLEdBQUdDLEtBQUssQ0FBQ0gsaUJBQWlCLEdBQUcsQ0FBckIsQ0FBTCxDQUE2QkksSUFBN0IsQ0FBa0MsSUFBbEMsQ0FBckI7QUFFQSxRQUFNQyxnQkFBZ0IsR0FBRyxxREFBaUNQLE1BQU0sQ0FBQ0YsSUFBeEMsRUFBOENFLE1BQU0sQ0FBQ0QsU0FBUCxDQUFpQlMsR0FBL0QsQ0FBekI7QUFDQSxRQUFNQyxXQUFXLEdBQUdKLEtBQUssQ0FBQ0UsZ0JBQWdCLEdBQUcsQ0FBcEIsQ0FBTCxDQUE0QkQsSUFBNUIsQ0FBaUMsSUFBakMsQ0FBcEIsQ0FSMkMsQ0FVM0M7O0FBQ0FWLElBQUFBLEdBQUcsQ0FBQ2MsZ0JBQUosV0FBd0JOLFlBQXhCLGVBQXlDSixNQUFNLENBQUNXLFlBQWhELFNBQStERixXQUEvRDtBQUVBLFFBQU1HLGNBQWMsR0FBR1osTUFBTSxDQUFDRCxTQUFQLENBQWlCSSxLQUFqQixHQUF5QkQsaUJBQXpCLEdBQTZDLENBQXBFO0FBQ0EsUUFBTVcsWUFBWSxHQUFHRCxjQUFjLEdBQUdaLE1BQU0sQ0FBQ1csWUFBUCxDQUFvQkcsTUFBMUQ7QUFFQWxCLElBQUFBLEdBQUcsQ0FBQ0ssaUJBQUosQ0FBc0I7QUFDcEJFLE1BQUFBLEtBQUssRUFBRVMsY0FEYTtBQUVwQkosTUFBQUEsR0FBRyxFQUFFSztBQUZlLEtBQXRCO0FBSUQ7QUFqQzRCLENBQXhCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBJQ29tbWFuZCwgVGV4dFN0YXRlLCBUZXh0QXBpIH0gZnJvbSAnLi8nO1xyXG5pbXBvcnQge1xyXG4gIGdldEJyZWFrc05lZWRlZEZvckVtcHR5TGluZUJlZm9yZSxcclxuICBnZXRCcmVha3NOZWVkZWRGb3JFbXB0eUxpbmVBZnRlcixcclxuICBzZWxlY3RXb3JkLFxyXG59IGZyb20gJy4uL3V0aWxzL21hcmtkb3duVXRpbHMnO1xyXG5cclxuZXhwb3J0IGNvbnN0IHF1b3RlOiBJQ29tbWFuZCA9IHtcclxuICBuYW1lOiAncXVvdGUnLFxyXG4gIGtleUNvbW1hbmQ6ICdxdW90ZScsXHJcbiAgc2hvcnRjdXRzOiAnY3RybGNtZCtxJyxcclxuICBidXR0b25Qcm9wczogeyAnYXJpYS1sYWJlbCc6ICdJbnNlcnQgYSBxdW90ZScsIHRpdGxlOiAnSW5zZXJ0IGEgcXVvdGUnIH0sXHJcbiAgaWNvbjogKFxyXG4gICAgPHN2ZyB3aWR0aD1cIjEyXCIgaGVpZ2h0PVwiMTJcIiB2aWV3Qm94PVwiMCAwIDUyMCA1MjBcIj5cclxuICAgICAgPHBhdGhcclxuICAgICAgICBmaWxsPVwiY3VycmVudENvbG9yXCJcclxuICAgICAgICBkPVwiTTUyMCw5NS43NSBMNTIwLDIyNS43NSBDNTIwLDM2NC45MDg5MDYgNDU3LjEyNzU3OCw0MzcuMDUwNjI1IDMyNS4wNDA0NjksNDcyLjQ0MzEyNSBDMzA5LjU3NzU3OCw0NzYuNTg2ODc1IDI5NC4zOTYwMTYsNDY0Ljg4OTkyMiAyOTQuMzk2MDE2LDQ0OC44ODE2NDEgTDI5NC4zOTYwMTYsNDE0LjQ1NzAzMSBDMjk0LjM5NjAxNiw0MDQuMjQyODkxIDMwMC43MjEzMjgsMzk1LjAyNTA3OCAzMTAuMzI4MTI1LDM5MS41NTQ2ODcgQzM3Ny4zNTYzMjgsMzY3LjM0MjE4NyA0MTQuMzc1LDM0OS43MTEwOTQgNDE0LjM3NSwyNzQuNSBMMzQxLjI1LDI3NC41IEMzMTQuMzI1NzgxLDI3NC41IDI5Mi41LDI1Mi42NzQyMTkgMjkyLjUsMjI1Ljc1IEwyOTIuNSw5NS43NSBDMjkyLjUsNjguODI1NzgxMiAzMTQuMzI1NzgxLDQ3IDM0MS4yNSw0NyBMNDcxLjI1LDQ3IEM0OTguMTc0MjE5LDQ3IDUyMCw2OC44MjU3ODEyIDUyMCw5NS43NSBaIE0xNzguNzUsNDcgTDQ4Ljc1LDQ3IEMyMS44MjU3ODEzLDQ3IDAsNjguODI1NzgxMiAwLDk1Ljc1IEwwLDIyNS43NSBDMCwyNTIuNjc0MjE5IDIxLjgyNTc4MTMsMjc0LjUgNDguNzUsMjc0LjUgTDEyMS44NzUsMjc0LjUgQzEyMS44NzUsMzQ5LjcxMTA5NCA4NC44NTYzMjgxLDM2Ny4zNDIxODcgMTcuODI4MTI1LDM5MS41NTQ2ODcgQzguMjIxMzI4MTMsMzk1LjAyNTA3OCAxLjg5NjAxNTYzLDQwNC4yNDI4OTEgMS44OTYwMTU2Myw0MTQuNDU3MDMxIEwxLjg5NjAxNTYzLDQ0OC44ODE2NDEgQzEuODk2MDE1NjMsNDY0Ljg4OTkyMiAxNy4wNzc1NzgxLDQ3Ni41ODY4NzUgMzIuNTQwNDY4Nyw0NzIuNDQzMTI1IEMxNjQuNjI3NTc4LDQzNy4wNTA2MjUgMjI3LjUsMzY0LjkwODkwNiAyMjcuNSwyMjUuNzUgTDIyNy41LDk1Ljc1IEMyMjcuNSw2OC44MjU3ODEyIDIwNS42NzQyMTksNDcgMTc4Ljc1LDQ3IFpcIlxyXG4gICAgICAvPlxyXG4gICAgPC9zdmc+XHJcbiAgKSxcclxuICBleGVjdXRlOiAoc3RhdGU6IFRleHRTdGF0ZSwgYXBpOiBUZXh0QXBpKSA9PiB7XHJcbiAgICAvLyBBZGp1c3QgdGhlIHNlbGVjdGlvbiB0byBlbmNvbXBhc3MgdGhlIHdob2xlIHdvcmQgaWYgdGhlIGNhcmV0IGlzIGluc2lkZSBvbmVcclxuICAgIGNvbnN0IG5ld1NlbGVjdGlvblJhbmdlID0gc2VsZWN0V29yZCh7IHRleHQ6IHN0YXRlLnRleHQsIHNlbGVjdGlvbjogc3RhdGUuc2VsZWN0aW9uIH0pO1xyXG4gICAgY29uc3Qgc3RhdGUxID0gYXBpLnNldFNlbGVjdGlvblJhbmdlKG5ld1NlbGVjdGlvblJhbmdlKTtcclxuICAgIGNvbnN0IGJyZWFrc0JlZm9yZUNvdW50ID0gZ2V0QnJlYWtzTmVlZGVkRm9yRW1wdHlMaW5lQmVmb3JlKHN0YXRlMS50ZXh0LCBzdGF0ZTEuc2VsZWN0aW9uLnN0YXJ0KTtcclxuICAgIGNvbnN0IGJyZWFrc0JlZm9yZSA9IEFycmF5KGJyZWFrc0JlZm9yZUNvdW50ICsgMSkuam9pbignXFxuJyk7XHJcblxyXG4gICAgY29uc3QgYnJlYWtzQWZ0ZXJDb3VudCA9IGdldEJyZWFrc05lZWRlZEZvckVtcHR5TGluZUFmdGVyKHN0YXRlMS50ZXh0LCBzdGF0ZTEuc2VsZWN0aW9uLmVuZCk7XHJcbiAgICBjb25zdCBicmVha3NBZnRlciA9IEFycmF5KGJyZWFrc0FmdGVyQ291bnQgKyAxKS5qb2luKCdcXG4nKTtcclxuXHJcbiAgICAvLyBSZXBsYWNlcyB0aGUgY3VycmVudCBzZWxlY3Rpb24gd2l0aCB0aGUgcXVvdGUgbWFyayB1cFxyXG4gICAgYXBpLnJlcGxhY2VTZWxlY3Rpb24oYCR7YnJlYWtzQmVmb3JlfT4gJHtzdGF0ZTEuc2VsZWN0ZWRUZXh0fSR7YnJlYWtzQWZ0ZXJ9YCk7XHJcblxyXG4gICAgY29uc3Qgc2VsZWN0aW9uU3RhcnQgPSBzdGF0ZTEuc2VsZWN0aW9uLnN0YXJ0ICsgYnJlYWtzQmVmb3JlQ291bnQgKyAyO1xyXG4gICAgY29uc3Qgc2VsZWN0aW9uRW5kID0gc2VsZWN0aW9uU3RhcnQgKyBzdGF0ZTEuc2VsZWN0ZWRUZXh0Lmxlbmd0aDtcclxuXHJcbiAgICBhcGkuc2V0U2VsZWN0aW9uUmFuZ2Uoe1xyXG4gICAgICBzdGFydDogc2VsZWN0aW9uU3RhcnQsXHJcbiAgICAgIGVuZDogc2VsZWN0aW9uRW5kLFxyXG4gICAgfSk7XHJcbiAgfSxcclxufTtcclxuIl19